<!-- wishlist.html -->
<!DOCTYPE html>
<html lang="es">
    <head>
        <meta charset="UTF-8">
        <title>Wishlist</title>
        <link href="css/estilos.css" rel="stylesheet" type="text/css"/>
        <style>
            .eliminar {
                color: red;
                cursor: pointer;
                text-decoration: underline;
            }
        </style>
    </head>
    <body>

        <header>
            <nav>
                <h1>MOONSI</h1>
                <ul>
                    <li><a href="index.html">Inicio</a></li>
                    <li><a href="categorias.html">Categorías</a></li>
                    <li><a href="reseñas.html">Reseñas</a></li>
                </ul>
            </nav>
        </header>
        <h1>Mi Wishlist</h1>
        <div id="wishlist-container"></div>

        <script>
            // Función para mostrar la wishlist
            function mostrarWishlist() {
                const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
                const wishlistContainer = document.getElementById('wishlist-container');

                if (wishlist.length === 0) {
                    wishlistContainer.innerHTML = '<p>No hay productos en tu wishlist.</p>';
                } else {
                    wishlistContainer.innerHTML = ''; // Limpiar el contenedor
                    wishlist.forEach((producto, index) => {
                        const productoDiv = document.createElement('div');
                        productoDiv.classList.add('producto');
                        productoDiv.innerHTML = `
                            <h2>${producto.nombre}</h2>
                            <p>${producto.descripcion}</p>
                            <p class="precio">Precio: $${producto.precio}</p>
                            <span class="eliminar" onclick="eliminarProducto(${index})">Eliminar</span>
                        `;
                        wishlistContainer.appendChild(productoDiv);
                    });
                }
            }

            // Función para eliminar un producto de la wishlist
            function eliminarProducto(index) {
                const wishlist = JSON.parse(localStorage.getItem('wishlist')) || [];
                wishlist.splice(index, 1); // Eliminar el producto en la posición 'index'
                localStorage.setItem('wishlist', JSON.stringify(wishlist)); // Guardar la wishlist actualizada
                mostrarWishlist(); // Volver a mostrar la wishlist
            }

            // Llamar a la función al cargar la página
            window.onload = mostrarWishlist;
        </script>
    </body>
</html>